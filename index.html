<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SmartVamp - Login</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body class="login-screen">
    <div class="phone-container">
        <div class="phone-screen">
            <!-- Status Bar no topo -->
            <div class="status-bar">
                <span id="status-bateria">100%</span>
                <span id="status-hora"></span>
                <span id="status-sinal">●●●</span>
            </div>
            
            <div class="login-container">
                <div class="login-message">
                    <p>Digite a senha para desbloquear</p>
                </div>
                
                <div class="login-form">
                    <div class="senha-input-wrapper">
                        <input type="password" id="login-senha" placeholder="Senha" class="input-field" autocomplete="off" inputmode="numeric" pattern="[0-9]*" maxlength="10">
                        <button onclick="fazerLogin()" class="btn-enviar-senha" id="btn-enviar-senha">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                    <div id="login-erro" class="erro-mensagem"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="assets/app.js"></script>
    <script>
        console.log('=== INDEX.HTML CARREGADO ===');
        console.log('Verificando se fazerLogin existe:', typeof fazerLogin);
        
        // Atualizar hora
        function atualizarHora() {
            const agora = new Date();
            document.getElementById('status-hora').textContent = 
                agora.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
        }
        atualizarHora();
        setInterval(atualizarHora, 1000);
        
        // Verificar se o botão existe
        const btnEnviar = document.getElementById('btn-enviar-senha');
        console.log('Botão encontrado:', !!btnEnviar);
        if (btnEnviar) {
            console.log('Adicionando listener ao botão...');
            btnEnviar.addEventListener('click', function(e) {
                console.log('=== BOTÃO CLICADO ===');
                e.preventDefault();
                if (typeof fazerLogin === 'function') {
                    fazerLogin();
                } else {
                    console.error('ERRO: fazerLogin não é uma função!');
                    alert('Erro: função fazerLogin não encontrada. Verifique o console (F12)');
                }
            });
        }
        
        // Enter para fazer login
        const inputSenha = document.getElementById('login-senha');
        if (inputSenha) {
            inputSenha.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    console.log('=== ENTER PRESSIONADO ===');
                    if (typeof fazerLogin === 'function') {
                        fazerLogin();
                    } else {
                        console.error('ERRO: fazerLogin não é uma função!');
                    }
                }
            });
        }
        
        // Focar no campo de senha ao carregar
        if (inputSenha) {
            inputSenha.focus();
        }
        
        console.log('=== INICIALIZAÇÃO CONCLUÍDA ===');
    </script>
</body>
</html>
